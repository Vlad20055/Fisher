1 users (Пользователи)
    id (PK, SERIAL)
    username (VARCHAR, UNIQUE) - Логин
    password_hash (VARCHAR) - Хэш пароля
    full_name (VARCHAR) - ФИО
    role_id (INTEGER) - Роль
    is_active (BOOLEAN, DEFAULT FALSE) - Статус активации
Обоснование: Основная сущность для аутентификации и авторизации. Хранение хэша пароля — стандартная практика безопасности.

2 stores (Магазины)
    id (PK, SERIAL)
    name (VARCHAR) - Название магазина
    address (TEXT) - Адрес
    tax_id (VARCHAR, UNIQUE) - ИНН
    manager_id (INTEGER) - ID менеджера магазина
Обоснование: Сущность для хранения данных о магазинах-клиентах. Связь "один-к-одному" с пользователем-менеджером (один магазин - один менеджер).

3 categories (Категории товаров)
    id (PK, SERIAL)
    name (VARCHAR, UNIQUE) - Название категории
Обоснование: Справочная сущность для типизации товаров. Нужна для организации каталога.

4 products (Товары)
    id (PK, SERIAL)
    name (VARCHAR) - Название товара
    description (TEXT) - Описание
    price (DECIMAL) - Цена
    quantity_in_stock (INTEGER, DEFAULT 0) - Количество на складе
    category_id (INTEGER) - Категория
Обоснование: Основная бизнес-сущность. Хранит данные о товарах компании.

5 orders (Заказы)
    id (PK, SERIAL)
    store_id (INTEGER) - Магазин-заказчик
    total_amount (DECIMAL) - Общая сумма заказа
    created_at (TIMESTAMP, DEFAULT NOW()) - Дата создания
Обоснование: Сущность для регистрации факта заказа. Сумма дублируется для истории и неизменности при возможном изменении цены товара.

6 order_items (Позиции заказа)
    id (PK, SERIAL)
    order_id (INTEGER) - ID заказа
    product_id (INTEGER) - ID товара
    quantity (INTEGER) - Количество заказанного товара
    unit_price (DECIMAL) - Цена товара на момент заказа
Обоснование: Промежуточная сущность для связи MTM между orders и products. НЕСЕТ важную дополнительную информацию (quantity, unit_price), поэтому считается отдельной сущностью.

7 company_accounts (Счёт компании)
    id (PK, SERIAL)
    balance (DECIMAL, DEFAULT 0.0) - Текущий баланс
Обоснование: Сущность для учета общих денежных средств компании. Централизованное управление финансами.

8 transactions (Транзакции)
    id (PK, SERIAL)
    store_account_id (INTEGER) - ID счета магазина
    company_account_id (INTEGER) - ID счета компании
    amount (DECIMAL) - Сумма перевода
Обоснование: Сущность для регистрации финансовых операций между счетами магазинов и компании. Обеспечивает аудит денежных потоков.

9 roles (Роли)
    id (PK, SERIAL)
    name (VARCHAR, UNIQUE) - Название роли
Обоснование: Справочная сущность для управления правами доступа. Позволяет гибко настраивать роли без изменения структуры базы.

10 audit_log (Журнал аудита)
    id (PK, SERIAL)
    user_id (INTEGER) - Пользователь, совершивший действие
    details (TEXT) - Детали изменения
    performed_at (TIMESTAMP, DEFAULT NOW()) - Дата и время
Обоснование: Сущность для протоколирования действий пользователей. Обеспечивает безопасность и отслеживаемость операций в системе.

11 store_accounts (Счета магазинов)
    id (PK, SERIAL)
    balance (DECIMAL, DEFAULT 0.0) - Текущий баланс
    store_id (INTEGER) - ID магазина
Обоснование: Сущность для учета денежных средств каждого магазина. Обеспечивает изоляцию финансовых потоков.

